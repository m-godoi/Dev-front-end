document.addEventListener("DOMContentLoaded",()=>{let e=window.location.pathname.includes("/pages/"),t=e?"../":"./";function r(r,o){fetch(t+o).then(e=>{if(!e.ok)throw Error("Erro ao carregar componente");return e.text()}).then(t=>{if(document.getElementById(r).innerHTML=t,e){let o=document.getElementById(r),n=o.querySelectorAll("a");n.forEach(e=>{let t=e.getAttribute("href");"index.html"===t?e.setAttribute("href","../index.html"):t&&t.includes("pages/")&&e.setAttribute("href",t.replace("pages/",""))})}}).catch(e=>console.error("Erro:",e))}r("header-container","componentes/header.html"),r("footer-container","componentes/footer.html");let o=document.querySelector(".custom-form");o&&o.addEventListener("submit",function(e){e.preventDefault();let t=document.getElementById("nome"),r=document.getElementById("email"),n=document.getElementById("descricao"),a=document.getElementById("tipo_servico"),l=!0;function i(e,t){let r=e.parentElement,o=r.querySelector(".error-message");o||((o=document.createElement("div")).classList.add("error-message"),r.appendChild(o)),o.textContent=t,e.style.borderColor="red",l=!1}function s(e){let t=e.parentElement,r=t.querySelector(".error-message");r&&r.remove(),e.style.borderColor="#ccc"}""===t.value.trim()?i(t,"Por favor, insira seu nome."):s(t),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.value.trim())?s(r):i(r,"Insira um e-mail v\xe1lido."),n.value.trim().length<10?i(n,"Descreva com mais detalhes (m\xednimo 10 letras)."):s(n),""===a.value.trim()?i(a,"Indique o tipo de servi\xe7o."):s(a),l&&(alert("Solicita\xe7\xe3o enviada com sucesso! Entraremos em contato."),o.reset())})});